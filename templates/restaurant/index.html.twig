{% extends 'base.html.twig' %}

{% block title %}Hello RestaurantController!{% endblock %}

{% block body %}
<style>
    .table-wrapper {
        margin: 2%;
        box-shadow: 0 2px 5px 0 rgba(0, 0, 0, 0.16), 0 2px 10px 0 rgba(0, 0, 0, 0.12);
        text-align: center;
    }
    .table-navbar {
        height: 75px;
    }
    .table-navbar-create {
        box-shadow: 0 5px 11px 0 rgba(0, 0, 0, 0.18), 0 4px 15px 0 rgba(0, 0, 0, 0.15);
        background-color: white;
    }
    .table-checkbox {
        height: calc(1.5em + .75rem + 2px);
        width: 100%;
    }

    .table-photo {
        max-height: 100px;
    }
</style>
    {% if app.user %}
        <div class="mb-1 text-right pr-5 pt-3">
            You are logged in as {{ app.user.username }}, <a href="{{ path('app_logout') }}">Logout</a>
        </div>
    {% endif %}
    <div class="table-wrapper">
        <nav class="navbar navbar-dark bg-dark justify-content-between table-navbar">
            <a class="navbar-brand"><b>Restaurant Management</b></a>
            <form class="form-inline" action="/restaurant/search" method="post">
                <input class="form-control mr-sm-2" type="search" placeholder="Enter title here..." aria-label="Search" name="search">
                <button class="btn btn-info my-2 my-sm-0" type="submit">Search</button>
            </form>
            <a href="/restaurant/create">
                <button type="button" class="btn table-navbar-create">New Entry</button>
            </a>
        </nav>


        <table class="table table-hover table-striped">
            <thead class="thead-dark">
            <tr>
                <th scope="col">#</th>
                <th scope="col">Title</th>
                <th scope="col">Photo</th>
                <th scope="col">Max Table Count</th>
                <th scope="col">Active</th>
                <th scope="col">Actions</th>
            </tr>
            </thead>
            <tbody>
            {% for restaurant in restaurants %}
                <tr>
                    <th scope="row">{{ restaurant.getId() }}</th>
                    <td>{{ restaurant.getTitle() }}</td>
                    <td><img class="table-photo" src="{{ restaurant.getPhoto() }}"></td>
                    <td>{{ restaurant.getMaxTableCount() }}</td>
                    <td><input type="checkbox" class="table-checkbox" disabled {% if restaurant.getStatusActive() %}checked{% endif %}></td>
                    <td>
                        <a href="/restaurant/edit/{{ restaurant.getId() }}"><button type="button" class="btn btn-primary" >Edit</button></a>
                        <a href="/restaurant/delete/{{ restaurant.getId() }}"><button type="button" class="btn btn-danger">Delete</button></a>
                    </td>
                </tr>
            {% endfor %}
            </tbody>
        </table>
    </div>
{% endblock %}
